[
  {
    "id": "a05b4c79-45ab-4336-aea9-1a489982f17a",
    "name": "News Agent",
    "flowData": "{\"nodes\":[{\"id\":\"startAgentflow_0\",\"type\":\"agentFlow\",\"position\":{\"x\":100,\"y\":100},\"data\":{\"label\":\"Start\",\"name\":\"startAgentflow\",\"version\":1.1,\"type\":\"Start\",\"category\":\"Agent Flows\",\"description\":\"Starting point of the agentflow\",\"baseClasses\":[\"Start\"],\"color\":\"#7EE787\",\"hideInput\":true,\"inputs\":{\"startInputType\":\"chatInput\",\"formTitle\":\"\",\"formDescription\":\"\",\"formInputTypes\":\"\",\"startEphemeralMemory\":\"\",\"startState\":[{\"key\":\"user_topics\",\"value\":\"\"},{\"key\":\"user_interests\",\"value\":\"\"},{\"key\":\"language\",\"value\":\"\"},{\"key\":\"timeframe_days\",\"value\":\"\"},{\"key\":\"audience\",\"value\":\"\"},{\"key\":\"style\",\"value\":\"\"},{\"key\":\"refined_topics\",\"value\":\"\"},{\"key\":\"selected_topic\",\"value\":\"\"},{\"key\":\"docs\",\"value\":\"\"},{\"key\":\"article_json\",\"value\":\"\"},{\"key\":\"instruction\",\"value\":\"\"},{\"key\":\"next\",\"value\":\"\"}],\"startPersistState\":\"\"},\"filePath\":\"/usr/local/lib/node_modules/flowise/node_modules/flowise-components/dist/nodes/agentflow/Start/Start.js\",\"position\":{\"x\":100,\"y\":100},\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Input Type\",\"name\":\"startInputType\",\"type\":\"options\",\"options\":[{\"label\":\"Chat Input\",\"name\":\"chatInput\",\"description\":\"Start the conversation with chat input\"},{\"label\":\"Form Input\",\"name\":\"formInput\",\"description\":\"Start the workflow with form inputs\"}],\"default\":\"chatInput\",\"id\":\"startAgentflow_0-input-startInputType-options\",\"display\":true},{\"label\":\"Form Title\",\"name\":\"formTitle\",\"type\":\"string\",\"placeholder\":\"Please Fill Out The Form\",\"show\":{\"startInputType\":\"formInput\"},\"id\":\"startAgentflow_0-input-formTitle-string\",\"display\":false},{\"label\":\"Form Description\",\"name\":\"formDescription\",\"type\":\"string\",\"placeholder\":\"Complete all fields below to continue\",\"show\":{\"startInputType\":\"formInput\"},\"id\":\"startAgentflow_0-input-formDescription-string\",\"display\":false},{\"label\":\"Form Input Types\",\"name\":\"formInputTypes\",\"description\":\"Specify the type of form input\",\"type\":\"array\",\"show\":{\"startInputType\":\"formInput\"},\"array\":[{\"label\":\"Type\",\"name\":\"type\",\"type\":\"options\",\"options\":[{\"label\":\"String\",\"name\":\"string\"},{\"label\":\"Number\",\"name\":\"number\"},{\"label\":\"Boolean\",\"name\":\"boolean\"},{\"label\":\"Options\",\"name\":\"options\"}],\"default\":\"string\"},{\"label\":\"Label\",\"name\":\"label\",\"type\":\"string\",\"placeholder\":\"Label for the input\"},{\"label\":\"Variable Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"Variable name for the input (must be camel case)\",\"description\":\"Variable name must be camel case. For example: firstName, lastName, etc.\"},{\"label\":\"Add Options\",\"name\":\"addOptions\",\"type\":\"array\",\"show\":{\"formInputTypes[$index].type\":\"options\"},\"array\":[{\"label\":\"Option\",\"name\":\"option\",\"type\":\"string\"}]}],\"id\":\"startAgentflow_0-input-formInputTypes-array\",\"display\":false},{\"label\":\"Ephemeral Memory\",\"name\":\"startEphemeralMemory\",\"type\":\"boolean\",\"description\":\"Start fresh for every execution without past chat history\",\"optional\":true,\"id\":\"startAgentflow_0-input-startEphemeralMemory-boolean\",\"display\":true},{\"label\":\"Flow State\",\"name\":\"startState\",\"description\":\"Runtime state during the execution of the workflow\",\"type\":\"array\",\"optional\":true,\"array\":[{\"label\":\"Key\",\"name\":\"key\",\"type\":\"string\",\"placeholder\":\"Foo\"},{\"label\":\"Value\",\"name\":\"value\",\"type\":\"string\",\"placeholder\":\"Bar\",\"optional\":true}],\"id\":\"startAgentflow_0-input-startState-array\",\"display\":true},{\"label\":\"Persist State\",\"name\":\"startPersistState\",\"type\":\"boolean\",\"description\":\"Persist the state in the same session\",\"optional\":true,\"id\":\"startAgentflow_0-input-startPersistState-boolean\",\"display\":true}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"startAgentflow_0-output-startAgentflow\",\"label\":\"Start\",\"name\":\"startAgentflow\"}],\"id\":\"startAgentflow_0\",\"selected\":false},\"width\":103,\"height\":66,\"positionAbsolute\":{\"x\":100,\"y\":100},\"selected\":false,\"dragging\":false},{\"id\":\"llmAgentflow_0\",\"position\":{\"x\":251.60499698338378,\"y\":98.19544921451164},\"data\":{\"loadMethods\":{},\"label\":\"SUPERVISOR\",\"name\":\"llmAgentflow\",\"version\":1,\"type\":\"LLM\",\"category\":\"Agent Flows\",\"description\":\"Large language models to analyze user-provided inputs and generate responses\",\"color\":\"#64B5F6\",\"baseClasses\":[\"LLM\"],\"inputs\":{\"llmModel\":\"chatOpenAI\",\"llmMessages\":[{\"role\":\"system\",\"content\":\"<p>Eres el SUPERVISOR. Coordina tres subagentes por orden:</p><p>- 1. TOPICER: perfila y refina topics a partir de intereses iniciales con búsqueda web reciente.</p><p>- 2. RESEARCHER: investiga exhaustivamente los topics perfilados y genera documentación estructurada con citas.</p><p>- 3. WRITER: a partir de la documentación de un topic específico, produce un artículo en JSON estricto según el esquema dado.</p><p>Reglas:</p><p>1) Decide qué subagente actúa a continuación en función del estado del flujo ($flow.state). {{</p><p>2) Si faltan topics iniciales, ordena a TOPICER actuar.</p><p>3) Si ya hay refined_topics pero no documentación, ordena a RESEARCHER actuar.</p><p>4) Si ya existe documentación y un selected_topic, ordena a WRITER actuar.</p><p>5) Cuando el artículo esté listo, responde FINISH.</p><p>6) Devuelve SIEMPRE JSON que cumpla el schema (sin texto extra).</p><p>Contexto disponible (no repitas, solo decide):</p><p>- user_topics: <span class=\\\"variable\\\" data-type=\\\"mention\\\" data-id=\\\"$flow.state.user_topics\\\" data-label=\\\"$flow.state.user_topics\\\">{{ $flow.state.user_topics }}</span></p><p>- user_interests: <span class=\\\"variable\\\" data-type=\\\"mention\\\" data-id=\\\"$flow.state.user_interests\\\" data-label=\\\"$flow.state.user_interests\\\">{{ $flow.state.user_interests }}</span></p><p>- refined_topics: <span class=\\\"variable\\\" data-type=\\\"mention\\\" data-id=\\\"$flow.state.refined_topics\\\" data-label=\\\"$flow.state.refined_topics\\\">{{ $flow.state.refined_topics }}</span></p><p>- selected_topic: <span class=\\\"variable\\\" data-type=\\\"mention\\\" data-id=\\\"$flow.state.selected_topic\\\" data-label=\\\"$flow.state.selected_topic\\\">{{ $flow.state.selected_topic }}</span></p><p>- docs (resumen largo): <span class=\\\"variable\\\" data-type=\\\"mention\\\" data-id=\\\"$flow.state.docs\\\" data-label=\\\"$flow.state.docs\\\">{{ $flow.state.docs }}</span> # muestra poco para no desbordar</p><p>- objetivo final: artículo JSON para el topic seleccionado</p><p>Da instrucciones operativas cortas y claras para el subagente seleccionado.</p>\"},{\"role\":\"user\",\"content\":\"<p>contexto:<br><span class=\\\"variable\\\" data-type=\\\"mention\\\" data-id=\\\"chat_history\\\" data-label=\\\"chat_history\\\">{{ chat_history }}</span></p><p>Decide el siguiente paso y qué debe hacer el subagente escogido.</p>\"}],\"llmEnableMemory\":false,\"llmReturnResponseAs\":\"assistantMessage\",\"llmStructuredOutput\":[{\"key\":\"next\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"who is next agent to act, can be TOPICER, RESEARCHER, WRITER o FINISH\"},{\"key\":\"instructions\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"instructions\"},{\"key\":\"target_topic\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"target_topic\"},{\"key\":\"reasoning\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"reasoning\"}],\"llmUpdateState\":[{\"key\":\"next\",\"value\":\"<p><span class=\\\"variable\\\" data-type=\\\"mention\\\" data-id=\\\"output.next\\\" data-label=\\\"output.next\\\">{{ output.next }}</span> </p>\"},{\"key\":\"instruction\",\"value\":\"<p><span class=\\\"variable\\\" data-type=\\\"mention\\\" data-id=\\\"output.instructions\\\" data-label=\\\"output.instructions\\\">{{ output.instructions }}</span> </p>\"},{\"key\":\"selected_topic\",\"value\":\"<p><span class=\\\"variable\\\" data-type=\\\"mention\\\" data-id=\\\"output.target_topic\\\" data-label=\\\"output.target_topic\\\">{{ output.target_topic }}</span> </p>\"}],\"llmModelConfig\":{\"credential\":\"\",\"modelName\":\"gpt-5\",\"temperature\":\"1\",\"streaming\":false,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"strictToolCalling\":\"\",\"stopSequence\":\"\",\"basepath\":\"\",\"proxyUrl\":\"\",\"baseOptions\":\"\",\"allowImageUploads\":\"\",\"reasoningEffort\":\"medium\",\"llmModel\":\"chatOpenAI\",\"FLOWISE_CREDENTIAL_ID\":\"38790991-511b-491b-9a42-06b08bba76ae\"}},\"filePath\":\"/usr/local/lib/node_modules/flowise/node_modules/flowise-components/dist/nodes/agentflow/LLM/LLM.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Model\",\"name\":\"llmModel\",\"type\":\"asyncOptions\",\"loadMethod\":\"listModels\",\"loadConfig\":true,\"id\":\"llmAgentflow_0-input-llmModel-asyncOptions\",\"display\":true},{\"label\":\"Messages\",\"name\":\"llmMessages\",\"type\":\"array\",\"optional\":true,\"acceptVariable\":true,\"array\":[{\"label\":\"Role\",\"name\":\"role\",\"type\":\"options\",\"options\":[{\"label\":\"System\",\"name\":\"system\"},{\"label\":\"Assistant\",\"name\":\"assistant\"},{\"label\":\"Developer\",\"name\":\"developer\"},{\"label\":\"User\",\"name\":\"user\"}]},{\"label\":\"Content\",\"name\":\"content\",\"type\":\"string\",\"acceptVariable\":true,\"generateInstruction\":true,\"rows\":4}],\"id\":\"llmAgentflow_0-input-llmMessages-array\",\"display\":true},{\"label\":\"Enable Memory\",\"name\":\"llmEnableMemory\",\"type\":\"boolean\",\"description\":\"Enable memory for the conversation thread\",\"default\":true,\"optional\":true,\"id\":\"llmAgentflow_0-input-llmEnableMemory-boolean\",\"display\":true},{\"label\":\"Memory Type\",\"name\":\"llmMemoryType\",\"type\":\"options\",\"options\":[{\"label\":\"All Messages\",\"name\":\"allMessages\",\"description\":\"Retrieve all messages from the conversation\"},{\"label\":\"Window Size\",\"name\":\"windowSize\",\"description\":\"Uses a fixed window size to surface the last N messages\"},{\"label\":\"Conversation Summary\",\"name\":\"conversationSummary\",\"description\":\"Summarizes the whole conversation\"},{\"label\":\"Conversation Summary Buffer\",\"name\":\"conversationSummaryBuffer\",\"description\":\"Summarize conversations once token limit is reached. Default to 2000\"}],\"optional\":true,\"default\":\"allMessages\",\"show\":{\"llmEnableMemory\":true},\"id\":\"llmAgentflow_0-input-llmMemoryType-options\",\"display\":false},{\"label\":\"Window Size\",\"name\":\"llmMemoryWindowSize\",\"type\":\"number\",\"default\":\"20\",\"description\":\"Uses a fixed window size to surface the last N messages\",\"show\":{\"llmMemoryType\":\"windowSize\"},\"id\":\"llmAgentflow_0-input-llmMemoryWindowSize-number\",\"display\":false},{\"label\":\"Max Token Limit\",\"name\":\"llmMemoryMaxTokenLimit\",\"type\":\"number\",\"default\":\"2000\",\"description\":\"Summarize conversations once token limit is reached. Default to 2000\",\"show\":{\"llmMemoryType\":\"conversationSummaryBuffer\"},\"id\":\"llmAgentflow_0-input-llmMemoryMaxTokenLimit-number\",\"display\":false},{\"label\":\"Input Message\",\"name\":\"llmUserMessage\",\"type\":\"string\",\"description\":\"Add an input message as user message at the end of the conversation\",\"rows\":4,\"optional\":true,\"acceptVariable\":true,\"show\":{\"llmEnableMemory\":true},\"id\":\"llmAgentflow_0-input-llmUserMessage-string\",\"display\":false},{\"label\":\"Return Response As\",\"name\":\"llmReturnResponseAs\",\"type\":\"options\",\"options\":[{\"label\":\"User Message\",\"name\":\"userMessage\"},{\"label\":\"Assistant Message\",\"name\":\"assistantMessage\"}],\"default\":\"userMessage\",\"id\":\"llmAgentflow_0-input-llmReturnResponseAs-options\",\"display\":true},{\"label\":\"JSON Structured Output\",\"name\":\"llmStructuredOutput\",\"description\":\"Instruct the LLM to give output in a JSON structured schema\",\"type\":\"array\",\"optional\":true,\"acceptVariable\":true,\"array\":[{\"label\":\"Key\",\"name\":\"key\",\"type\":\"string\"},{\"label\":\"Type\",\"name\":\"type\",\"type\":\"options\",\"options\":[{\"label\":\"String\",\"name\":\"string\"},{\"label\":\"String Array\",\"name\":\"stringArray\"},{\"label\":\"Number\",\"name\":\"number\"},{\"label\":\"Boolean\",\"name\":\"boolean\"},{\"label\":\"Enum\",\"name\":\"enum\"},{\"label\":\"JSON Array\",\"name\":\"jsonArray\"}]},{\"label\":\"Enum Values\",\"name\":\"enumValues\",\"type\":\"string\",\"placeholder\":\"value1, value2, value3\",\"description\":\"Enum values. Separated by comma\",\"optional\":true,\"show\":{\"llmStructuredOutput[$index].type\":\"enum\"}},{\"label\":\"JSON Schema\",\"name\":\"jsonSchema\",\"type\":\"code\",\"placeholder\":\"{\\n    \\\"answer\\\": {\\n        \\\"type\\\": \\\"string\\\",\\n        \\\"description\\\": \\\"Value of the answer\\\"\\n    },\\n    \\\"reason\\\": {\\n        \\\"type\\\": \\\"string\\\",\\n        \\\"description\\\": \\\"Reason for the answer\\\"\\n    },\\n    \\\"optional\\\": {\\n        \\\"type\\\": \\\"boolean\\\"\\n    },\\n    \\\"count\\\": {\\n        \\\"type\\\": \\\"number\\\"\\n    },\\n    \\\"children\\\": {\\n        \\\"type\\\": \\\"array\\\",\\n        \\\"items\\\": {\\n            \\\"type\\\": \\\"object\\\",\\n            \\\"properties\\\": {\\n                \\\"value\\\": {\\n                    \\\"type\\\": \\\"string\\\",\\n                    \\\"description\\\": \\\"Value of the children's answer\\\"\\n                }\\n            }\\n        }\\n    }\\n}\",\"description\":\"JSON schema for the structured output\",\"optional\":true,\"hideCodeExecute\":true,\"show\":{\"llmStructuredOutput[$index].type\":\"jsonArray\"}},{\"label\":\"Description\",\"name\":\"description\",\"type\":\"string\",\"placeholder\":\"Description of the key\"}],\"id\":\"llmAgentflow_0-input-llmStructuredOutput-array\",\"display\":true},{\"label\":\"Update Flow State\",\"name\":\"llmUpdateState\",\"description\":\"Update runtime state during the execution of the workflow\",\"type\":\"array\",\"optional\":true,\"acceptVariable\":true,\"array\":[{\"label\":\"Key\",\"name\":\"key\",\"type\":\"asyncOptions\",\"loadMethod\":\"listRuntimeStateKeys\",\"freeSolo\":true},{\"label\":\"Value\",\"name\":\"value\",\"type\":\"string\",\"acceptVariable\":true,\"acceptNodeOutputAsVariable\":true}],\"id\":\"llmAgentflow_0-input-llmUpdateState-array\",\"display\":true}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"llmAgentflow_0-output-llmAgentflow\",\"label\":\"LLM\",\"name\":\"llmAgentflow\"}],\"id\":\"llmAgentflow_0\",\"selected\":false,\"error\":\"Error in LLM node: 400 After the (optional) system message(s), user or tool message(s) should alternate with assistant message(s).\"},\"type\":\"agentFlow\",\"width\":158,\"height\":72,\"selected\":false,\"positionAbsolute\":{\"x\":251.60499698338378,\"y\":98.19544921451164},\"dragging\":false},{\"id\":\"conditionAgentflow_0\",\"position\":{\"x\":441.3509100331001,\"y\":51.06870059394987},\"data\":{\"label\":\"Condition 0\",\"name\":\"conditionAgentflow\",\"version\":1,\"type\":\"Condition\",\"category\":\"Agent Flows\",\"description\":\"Split flows based on If Else conditions\",\"baseClasses\":[\"Condition\"],\"color\":\"#FFB938\",\"inputs\":{\"conditions\":[{\"type\":\"string\",\"value1\":\"<p><span class=\\\"variable\\\" data-type=\\\"mention\\\" data-id=\\\"$flow.state.next\\\" data-label=\\\"$flow.state.next\\\">{{ $flow.state.next }}</span> </p>\",\"operation\":\"equal\",\"value2\":\"<p>TOPICER</p>\"},{\"type\":\"string\",\"value1\":\"<p><span class=\\\"variable\\\" data-type=\\\"mention\\\" data-id=\\\"$flow.state.next\\\" data-label=\\\"$flow.state.next\\\">{{ $flow.state.next }}</span></p>\",\"operation\":\"equal\",\"value2\":\"<p>RESEARCHER</p>\"},{\"type\":\"string\",\"value1\":\"<p><span class=\\\"variable\\\" data-type=\\\"mention\\\" data-id=\\\"$flow.state.next\\\" data-label=\\\"$flow.state.next\\\">{{ $flow.state.next }}</span></p>\",\"operation\":\"equal\",\"value2\":\"<p>WRITER</p>\"},{\"type\":\"string\",\"value1\":\"<p><span class=\\\"variable\\\" data-type=\\\"mention\\\" data-id=\\\"$flow.state.next\\\" data-label=\\\"$flow.state.next\\\">{{ $flow.state.next }}</span></p>\",\"operation\":\"equal\",\"value2\":\"<p>FINISH</p>\"}]},\"outputs\":{\"conditionAgentflow\":\"\"},\"filePath\":\"/usr/local/lib/node_modules/flowise/node_modules/flowise-components/dist/nodes/agentflow/Condition/Condition.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Conditions\",\"name\":\"conditions\",\"type\":\"array\",\"description\":\"Values to compare\",\"acceptVariable\":true,\"default\":[{\"type\":\"string\",\"value1\":\"<p><span class=\\\"variable\\\" data-type=\\\"mention\\\" data-id=\\\"$flow.state.next\\\" data-label=\\\"$flow.state.next\\\">{{ $flow.state.next }}</span> </p>\",\"operation\":\"equal\",\"value2\":\"<p>TOPICER</p>\"}],\"array\":[{\"label\":\"Type\",\"name\":\"type\",\"type\":\"options\",\"options\":[{\"label\":\"String\",\"name\":\"string\"},{\"label\":\"Number\",\"name\":\"number\"},{\"label\":\"Boolean\",\"name\":\"boolean\"}],\"default\":\"string\"},{\"label\":\"Value 1\",\"name\":\"value1\",\"type\":\"string\",\"default\":\"\",\"description\":\"First value to be compared with\",\"acceptVariable\":true,\"show\":{\"conditions[$index].type\":\"string\"}},{\"label\":\"Operation\",\"name\":\"operation\",\"type\":\"options\",\"options\":[{\"label\":\"Contains\",\"name\":\"contains\"},{\"label\":\"Ends With\",\"name\":\"endsWith\"},{\"label\":\"Equal\",\"name\":\"equal\"},{\"label\":\"Not Contains\",\"name\":\"notContains\"},{\"label\":\"Not Equal\",\"name\":\"notEqual\"},{\"label\":\"Regex\",\"name\":\"regex\"},{\"label\":\"Starts With\",\"name\":\"startsWith\"},{\"label\":\"Is Empty\",\"name\":\"isEmpty\"},{\"label\":\"Not Empty\",\"name\":\"notEmpty\"}],\"default\":\"equal\",\"description\":\"Type of operation\",\"show\":{\"conditions[$index].type\":\"string\"}},{\"label\":\"Value 2\",\"name\":\"value2\",\"type\":\"string\",\"default\":\"\",\"description\":\"Second value to be compared with\",\"acceptVariable\":true,\"show\":{\"conditions[$index].type\":\"string\"},\"hide\":{\"conditions[$index].operation\":[\"isEmpty\",\"notEmpty\"]}},{\"label\":\"Value 1\",\"name\":\"value1\",\"type\":\"number\",\"default\":\"\",\"description\":\"First value to be compared with\",\"acceptVariable\":true,\"show\":{\"conditions[$index].type\":\"number\"}},{\"label\":\"Operation\",\"name\":\"operation\",\"type\":\"options\",\"options\":[{\"label\":\"Smaller\",\"name\":\"smaller\"},{\"label\":\"Smaller Equal\",\"name\":\"smallerEqual\"},{\"label\":\"Equal\",\"name\":\"equal\"},{\"label\":\"Not Equal\",\"name\":\"notEqual\"},{\"label\":\"Larger\",\"name\":\"larger\"},{\"label\":\"Larger Equal\",\"name\":\"largerEqual\"},{\"label\":\"Is Empty\",\"name\":\"isEmpty\"},{\"label\":\"Not Empty\",\"name\":\"notEmpty\"}],\"default\":\"equal\",\"description\":\"Type of operation\",\"show\":{\"conditions[$index].type\":\"number\"}},{\"label\":\"Value 2\",\"name\":\"value2\",\"type\":\"number\",\"default\":0,\"description\":\"Second value to be compared with\",\"acceptVariable\":true,\"show\":{\"conditions[$index].type\":\"number\"}},{\"label\":\"Value 1\",\"name\":\"value1\",\"type\":\"boolean\",\"default\":false,\"description\":\"First value to be compared with\",\"show\":{\"conditions[$index].type\":\"boolean\"}},{\"label\":\"Operation\",\"name\":\"operation\",\"type\":\"options\",\"options\":[{\"label\":\"Equal\",\"name\":\"equal\"},{\"label\":\"Not Equal\",\"name\":\"notEqual\"}],\"default\":\"equal\",\"description\":\"Type of operation\",\"show\":{\"conditions[$index].type\":\"boolean\"}},{\"label\":\"Value 2\",\"name\":\"value2\",\"type\":\"boolean\",\"default\":false,\"description\":\"Second value to be compared with\",\"show\":{\"conditions[$index].type\":\"boolean\"}}],\"id\":\"conditionAgentflow_0-input-conditions-array\",\"display\":true}],\"outputAnchors\":[{\"id\":\"conditionAgentflow_0-output-0\",\"label\":0,\"name\":0,\"description\":\"Condition 0\"},{\"id\":\"conditionAgentflow_0-output-1\",\"label\":1,\"name\":1,\"description\":\"Condition 1\"},{\"id\":\"conditionAgentflow_0-output-2\",\"label\":2,\"name\":2,\"description\":\"Condition 2\"},{\"id\":\"conditionAgentflow_0-output-3\",\"label\":3,\"name\":3,\"description\":\"Condition 3\"},{\"id\":\"conditionAgentflow_0-output-4\",\"label\":4,\"name\":4,\"description\":\"Else\"}],\"id\":\"conditionAgentflow_0\",\"selected\":false},\"type\":\"agentFlow\",\"width\":147,\"height\":140,\"selected\":false,\"positionAbsolute\":{\"x\":441.3509100331001,\"y\":51.06870059394987},\"dragging\":false},{\"id\":\"agentAgentflow_0\",\"position\":{\"x\":656.6472793760562,\"y\":-71.79323117519593},\"data\":{\"loadMethods\":{},\"label\":\"TOPICER\",\"name\":\"agentAgentflow\",\"version\":1,\"type\":\"Agent\",\"category\":\"Agent Flows\",\"description\":\"Dynamically choose and utilize tools during runtime, enabling multi-step reasoning\",\"color\":\"#4DD0E1\",\"baseClasses\":[\"Agent\"],\"inputs\":{\"agentModel\":\"chatPerplexity\",\"agentMessages\":[{\"role\":\"system\",\"content\":\"<p>Eres TOPICER. Tu tarea: perfilar los topics iniciales del usuario y devolver topics más acusados, actuales y relacionados.</p><p>Qué debes hacer:</p><p>1) A partir de user_topics y user_interests, ejecuta búsquedas web con foco en los últimos <span class=\\\"variable\\\" data-type=\\\"mention\\\" data-id=\\\"$flow.state.timeframe_days\\\" data-label=\\\"$flow.state.timeframe_days\\\">{{ $flow.state.timeframe_days }}</span> días, priorizando noticias y fuentes reputadas.</p><p>2) Para cada topic inicial, identifica subtemas/ángulos emergentes y relevantes (3–7 refinados en total).</p><p>3) Valida cada refinado con 2–4 enlaces de evidencia (noticias/briefs oficiales/publicaciones recientes).</p><p>4) Devuelve SOLO JSON con el schema:</p><p>{</p><p>\\\"refined_topics\\\": [</p><p>{</p><p>\\\"name\\\": \\\"string\\\",</p><p>\\\"why_now\\\": \\\"2-3 líneas sobre relevancia/actualidad\\\",</p><p>\\\"related_to\\\": \\\"topic inicial al que se vincula\\\",</p><p>\\\"evidence_urls\\\": [\\\"https://...\\\", \\\"...\\\"]</p><p>}</p><p>],</p><p>\\\"suggested_focus_topic\\\": \\\"uno de los 'name' anteriores\\\"</p><p>}</p><p>Restricciones:</p><p>- No devuelvas texto fuera del JSON.</p><p>- Si no hay suficiente evidencia reciente, descarta el refinado.</p>\"},{\"role\":\"user\",\"content\":\"<p>Instrucciones del supervisor: {{ $flow.state.instruction }} <span class=\\\"variable\\\" data-type=\\\"mention\\\" data-id=\\\"$flow.state.instruction\\\" data-label=\\\"$flow.state.instruction\\\">{{ $flow.state.instruction }}</span> </p><p>Datos:</p><p>- user_topics:  <span class=\\\"variable\\\" data-type=\\\"mention\\\" data-id=\\\"$flow.state.user_topics\\\" data-label=\\\"$flow.state.user_topics\\\">{{ $flow.state.user_topics }}</span> </p><p>- user_interests:  <span class=\\\"variable\\\" data-type=\\\"mention\\\" data-id=\\\"$flow.state.user_interests\\\" data-label=\\\"$flow.state.user_interests\\\">{{ $flow.state.user_interests }}</span> </p><p>- idioma: <span class=\\\"variable\\\" data-type=\\\"mention\\\" data-id=\\\"$flow.state.language\\\" data-label=\\\"$flow.state.language\\\">{{ $flow.state.language }}</span> </p><p>- ventana temporal (días):  <span class=\\\"variable\\\" data-type=\\\"mention\\\" data-id=\\\"$flow.state.timeframe_days\\\" data-label=\\\"$flow.state.timeframe_days\\\">{{ $flow.state.timeframe_days }}</span> </p><p></p>\"}],\"agentTools\":[],\"agentKnowledgeDocumentStores\":\"\",\"agentKnowledgeVSEmbeddings\":\"\",\"agentEnableMemory\":false,\"agentReturnResponseAs\":\"assistantMessage\",\"agentUpdateState\":[{\"key\":\"next\",\"value\":\"<p>RESEARCHER</p>\"},{\"key\":\"instruction\",\"value\":\"<p>Investiga en profundidad los refined_topics y genera documentación con citas.</p>\"}],\"agentModelConfig\":{\"cache\":\"\",\"model\":\"sonar\",\"temperature\":1,\"maxTokens\":\"\",\"topP\":\"\",\"topK\":\"\",\"presencePenalty\":\"\",\"frequencyPenalty\":\"\",\"streaming\":true,\"timeout\":\"\",\"proxyUrl\":\"\",\"agentModel\":\"chatPerplexity\",\"FLOWISE_CREDENTIAL_ID\":\"76e373c4-8a17-40aa-8657-9027987fa9fd\"}},\"filePath\":\"/usr/local/lib/node_modules/flowise/node_modules/flowise-components/dist/nodes/agentflow/Agent/Agent.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Model\",\"name\":\"agentModel\",\"type\":\"asyncOptions\",\"loadMethod\":\"listModels\",\"loadConfig\":true,\"id\":\"agentAgentflow_0-input-agentModel-asyncOptions\",\"display\":true},{\"label\":\"Messages\",\"name\":\"agentMessages\",\"type\":\"array\",\"optional\":true,\"acceptVariable\":true,\"array\":[{\"label\":\"Role\",\"name\":\"role\",\"type\":\"options\",\"options\":[{\"label\":\"System\",\"name\":\"system\"},{\"label\":\"Assistant\",\"name\":\"assistant\"},{\"label\":\"Developer\",\"name\":\"developer\"},{\"label\":\"User\",\"name\":\"user\"}]},{\"label\":\"Content\",\"name\":\"content\",\"type\":\"string\",\"acceptVariable\":true,\"generateInstruction\":true,\"rows\":4}],\"id\":\"agentAgentflow_0-input-agentMessages-array\",\"display\":true},{\"label\":\"Tools\",\"name\":\"agentTools\",\"type\":\"array\",\"optional\":true,\"array\":[{\"label\":\"Tool\",\"name\":\"agentSelectedTool\",\"type\":\"asyncOptions\",\"loadMethod\":\"listTools\",\"loadConfig\":true},{\"label\":\"Require Human Input\",\"name\":\"agentSelectedToolRequiresHumanInput\",\"type\":\"boolean\",\"optional\":true}],\"id\":\"agentAgentflow_0-input-agentTools-array\",\"display\":true},{\"label\":\"Knowledge (Document Stores)\",\"name\":\"agentKnowledgeDocumentStores\",\"type\":\"array\",\"description\":\"Give your agent context about different document sources. Document stores must be upserted in advance.\",\"array\":[{\"label\":\"Document Store\",\"name\":\"documentStore\",\"type\":\"asyncOptions\",\"loadMethod\":\"listStores\"},{\"label\":\"Describe Knowledge\",\"name\":\"docStoreDescription\",\"type\":\"string\",\"generateDocStoreDescription\":true,\"placeholder\":\"Describe what the knowledge base is about, this is useful for the AI to know when and how to search for correct information\",\"rows\":4},{\"label\":\"Return Source Documents\",\"name\":\"returnSourceDocuments\",\"type\":\"boolean\",\"optional\":true}],\"optional\":true,\"id\":\"agentAgentflow_0-input-agentKnowledgeDocumentStores-array\",\"display\":true},{\"label\":\"Knowledge (Vector Embeddings)\",\"name\":\"agentKnowledgeVSEmbeddings\",\"type\":\"array\",\"description\":\"Give your agent context about different document sources from existing vector stores and embeddings\",\"array\":[{\"label\":\"Vector Store\",\"name\":\"vectorStore\",\"type\":\"asyncOptions\",\"loadMethod\":\"listVectorStores\",\"loadConfig\":true},{\"label\":\"Embedding Model\",\"name\":\"embeddingModel\",\"type\":\"asyncOptions\",\"loadMethod\":\"listEmbeddings\",\"loadConfig\":true},{\"label\":\"Knowledge Name\",\"name\":\"knowledgeName\",\"type\":\"string\",\"placeholder\":\"A short name for the knowledge base, this is useful for the AI to know when and how to search for correct information\"},{\"label\":\"Describe Knowledge\",\"name\":\"knowledgeDescription\",\"type\":\"string\",\"placeholder\":\"Describe what the knowledge base is about, this is useful for the AI to know when and how to search for correct information\",\"rows\":4},{\"label\":\"Return Source Documents\",\"name\":\"returnSourceDocuments\",\"type\":\"boolean\",\"optional\":true}],\"optional\":true,\"id\":\"agentAgentflow_0-input-agentKnowledgeVSEmbeddings-array\",\"display\":true},{\"label\":\"Enable Memory\",\"name\":\"agentEnableMemory\",\"type\":\"boolean\",\"description\":\"Enable memory for the conversation thread\",\"default\":true,\"optional\":true,\"id\":\"agentAgentflow_0-input-agentEnableMemory-boolean\",\"display\":true},{\"label\":\"Memory Type\",\"name\":\"agentMemoryType\",\"type\":\"options\",\"options\":[{\"label\":\"All Messages\",\"name\":\"allMessages\",\"description\":\"Retrieve all messages from the conversation\"},{\"label\":\"Window Size\",\"name\":\"windowSize\",\"description\":\"Uses a fixed window size to surface the last N messages\"},{\"label\":\"Conversation Summary\",\"name\":\"conversationSummary\",\"description\":\"Summarizes the whole conversation\"},{\"label\":\"Conversation Summary Buffer\",\"name\":\"conversationSummaryBuffer\",\"description\":\"Summarize conversations once token limit is reached. Default to 2000\"}],\"optional\":true,\"default\":\"allMessages\",\"show\":{\"agentEnableMemory\":true},\"id\":\"agentAgentflow_0-input-agentMemoryType-options\",\"display\":false},{\"label\":\"Window Size\",\"name\":\"agentMemoryWindowSize\",\"type\":\"number\",\"default\":\"20\",\"description\":\"Uses a fixed window size to surface the last N messages\",\"show\":{\"agentMemoryType\":\"windowSize\"},\"id\":\"agentAgentflow_0-input-agentMemoryWindowSize-number\",\"display\":false},{\"label\":\"Max Token Limit\",\"name\":\"agentMemoryMaxTokenLimit\",\"type\":\"number\",\"default\":\"2000\",\"description\":\"Summarize conversations once token limit is reached. Default to 2000\",\"show\":{\"agentMemoryType\":\"conversationSummaryBuffer\"},\"id\":\"agentAgentflow_0-input-agentMemoryMaxTokenLimit-number\",\"display\":false},{\"label\":\"Input Message\",\"name\":\"agentUserMessage\",\"type\":\"string\",\"description\":\"Add an input message as user message at the end of the conversation\",\"rows\":4,\"optional\":true,\"acceptVariable\":true,\"show\":{\"agentEnableMemory\":true},\"id\":\"agentAgentflow_0-input-agentUserMessage-string\",\"display\":false},{\"label\":\"Return Response As\",\"name\":\"agentReturnResponseAs\",\"type\":\"options\",\"options\":[{\"label\":\"User Message\",\"name\":\"userMessage\"},{\"label\":\"Assistant Message\",\"name\":\"assistantMessage\"}],\"default\":\"userMessage\",\"id\":\"agentAgentflow_0-input-agentReturnResponseAs-options\",\"display\":true},{\"label\":\"Update Flow State\",\"name\":\"agentUpdateState\",\"description\":\"Update runtime state during the execution of the workflow\",\"type\":\"array\",\"optional\":true,\"acceptVariable\":true,\"array\":[{\"label\":\"Key\",\"name\":\"key\",\"type\":\"asyncOptions\",\"loadMethod\":\"listRuntimeStateKeys\",\"freeSolo\":true},{\"label\":\"Value\",\"name\":\"value\",\"type\":\"string\",\"acceptVariable\":true,\"acceptNodeOutputAsVariable\":true}],\"id\":\"agentAgentflow_0-input-agentUpdateState-array\",\"display\":true}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"agentAgentflow_0-output-agentAgentflow\",\"label\":\"Agent\",\"name\":\"agentAgentflow\"}],\"id\":\"agentAgentflow_0\",\"selected\":false},\"type\":\"agentFlow\",\"width\":142,\"height\":72,\"selected\":false,\"positionAbsolute\":{\"x\":656.6472793760562,\"y\":-71.79323117519593},\"dragging\":false},{\"id\":\"agentAgentflow_1\",\"position\":{\"x\":654.0302329887891,\"y\":23.728209597804863},\"data\":{\"loadMethods\":{},\"label\":\"RESEARCHER\",\"name\":\"agentAgentflow\",\"version\":1,\"type\":\"Agent\",\"category\":\"Agent Flows\",\"description\":\"Dynamically choose and utilize tools during runtime, enabling multi-step reasoning\",\"color\":\"#4DD0E1\",\"baseClasses\":[\"Agent\"],\"inputs\":{\"agentModel\":\"chatPerplexity\",\"agentMessages\":[{\"role\":\"system\",\"content\":\"<p>Eres RESEARCHER. Profundiza en los refined_topics (o en selected_topic si está definido) y genera documentación exhaustiva con citas.</p><p>Pasos:</p><p>1) Define un plan de búsqueda (consultas, operadores, fuentes clave, fechas).</p><p>2) Abre 6–12 fuentes de alta calidad recientes (últimos <span class=\\\"variable\\\" data-type=\\\"mention\\\" data-id=\\\"$flow.state.timeframe_days\\\" data-label=\\\"$flow.state.timeframe_days\\\">{{ $flow.state.timeframe_days }}</span> días si aplica) por cada topic relevante.</p><p>3) Extrae hechos, cifras, cronologías, actores, riesgos y oportunidades. Guarda citas con URL y, si es posible, fecha de publicación.</p><p>4) Produce SOLO JSON con el schema:</p><p>{</p><p>\\\"docs\\\": [</p><p>{</p><p>\\\"topic\\\": \\\"string\\\",</p><p>\\\"summary\\\": \\\"resumen de 6–10 líneas\\\",</p><p>\\\"key_points\\\": [\\\"bullet\\\", \\\"bullet\\\", \\\"...\\\"],</p><p>\\\"date\\\": \\\"YYYY-MM-DD\\\", </p><p>\\\"quotes\\\": [</p><p>{\\\"text\\\": \\\"cita breve\\\", \\\"source\\\": \\\"url\\\"}</p><p>],</p><p>\\\"sources\\\": [</p><p>{\\\"title\\\": \\\"string\\\", \\\"url\\\": \\\"https://...\\\", \\\"published_date\\\": \\\"YYYY-MM-DD\\\"}</p><p>]</p><p>}</p><p>]</p><p>}</p><p>Reglas:</p><p>- Incluye fuentes diversas (medios, informes oficiales, blogs técnicos reputados).</p><p>- No repitas spam o sitios de baja calidad. Verifica coherencia entre fuentes.</p><p>- Devuelve solo JSON válido.</p>\"},{\"role\":\"user\",\"content\":\"<p>Instrucciones del supervisor: <span class=\\\"variable\\\" data-type=\\\"mention\\\" data-id=\\\"$flow.state.instruction\\\" data-label=\\\"$flow.state.instruction\\\">{{ $flow.state.instruction }}</span> </p><p>Datos:</p><p>- refined_topics: <span class=\\\"variable\\\" data-type=\\\"mention\\\" data-id=\\\"$flow.state.refined_topics\\\" data-label=\\\"$flow.state.refined_topics\\\">{{ $flow.state.refined_topics }}</span> </p><p>- selected_topic:  <span class=\\\"variable\\\" data-type=\\\"mention\\\" data-id=\\\"$flow.state.selected_topic\\\" data-label=\\\"$flow.state.selected_topic\\\">{{ $flow.state.selected_topic }}</span> </p><p>- idioma:  <span class=\\\"variable\\\" data-type=\\\"mention\\\" data-id=\\\"$flow.state.language\\\" data-label=\\\"$flow.state.language\\\">{{ $flow.state.language }}</span> </p><p>- ventana temporal (días): <span class=\\\"variable\\\" data-type=\\\"mention\\\" data-id=\\\"$flow.state.timeframe_days\\\" data-label=\\\"$flow.state.timeframe_days\\\">{{ $flow.state.timeframe_days }}</span> </p>\"}],\"agentTools\":\"\",\"agentKnowledgeDocumentStores\":\"\",\"agentKnowledgeVSEmbeddings\":\"\",\"agentEnableMemory\":false,\"agentReturnResponseAs\":\"assistantMessage\",\"agentUpdateState\":[{\"key\":\"next\",\"value\":\"<p>WRITER</p>\"},{\"key\":\"instruction\",\"value\":\"<p>Genera un artículo JSON del selected_topic usando la documentación y el esquema dado.</p>\"}],\"agentModelConfig\":{\"cache\":\"\",\"model\":\"sonar\",\"temperature\":1,\"maxTokens\":\"\",\"topP\":\"\",\"topK\":\"\",\"presencePenalty\":\"\",\"frequencyPenalty\":\"\",\"streaming\":true,\"timeout\":\"\",\"proxyUrl\":\"\",\"agentModel\":\"chatPerplexity\",\"FLOWISE_CREDENTIAL_ID\":\"76e373c4-8a17-40aa-8657-9027987fa9fd\"}},\"filePath\":\"/usr/local/lib/node_modules/flowise/node_modules/flowise-components/dist/nodes/agentflow/Agent/Agent.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Model\",\"name\":\"agentModel\",\"type\":\"asyncOptions\",\"loadMethod\":\"listModels\",\"loadConfig\":true,\"id\":\"agentAgentflow_1-input-agentModel-asyncOptions\",\"display\":true},{\"label\":\"Messages\",\"name\":\"agentMessages\",\"type\":\"array\",\"optional\":true,\"acceptVariable\":true,\"array\":[{\"label\":\"Role\",\"name\":\"role\",\"type\":\"options\",\"options\":[{\"label\":\"System\",\"name\":\"system\"},{\"label\":\"Assistant\",\"name\":\"assistant\"},{\"label\":\"Developer\",\"name\":\"developer\"},{\"label\":\"User\",\"name\":\"user\"}]},{\"label\":\"Content\",\"name\":\"content\",\"type\":\"string\",\"acceptVariable\":true,\"generateInstruction\":true,\"rows\":4}],\"id\":\"agentAgentflow_1-input-agentMessages-array\",\"display\":true},{\"label\":\"Tools\",\"name\":\"agentTools\",\"type\":\"array\",\"optional\":true,\"array\":[{\"label\":\"Tool\",\"name\":\"agentSelectedTool\",\"type\":\"asyncOptions\",\"loadMethod\":\"listTools\",\"loadConfig\":true},{\"label\":\"Require Human Input\",\"name\":\"agentSelectedToolRequiresHumanInput\",\"type\":\"boolean\",\"optional\":true}],\"id\":\"agentAgentflow_1-input-agentTools-array\",\"display\":true},{\"label\":\"Knowledge (Document Stores)\",\"name\":\"agentKnowledgeDocumentStores\",\"type\":\"array\",\"description\":\"Give your agent context about different document sources. Document stores must be upserted in advance.\",\"array\":[{\"label\":\"Document Store\",\"name\":\"documentStore\",\"type\":\"asyncOptions\",\"loadMethod\":\"listStores\"},{\"label\":\"Describe Knowledge\",\"name\":\"docStoreDescription\",\"type\":\"string\",\"generateDocStoreDescription\":true,\"placeholder\":\"Describe what the knowledge base is about, this is useful for the AI to know when and how to search for correct information\",\"rows\":4},{\"label\":\"Return Source Documents\",\"name\":\"returnSourceDocuments\",\"type\":\"boolean\",\"optional\":true}],\"optional\":true,\"id\":\"agentAgentflow_1-input-agentKnowledgeDocumentStores-array\",\"display\":true},{\"label\":\"Knowledge (Vector Embeddings)\",\"name\":\"agentKnowledgeVSEmbeddings\",\"type\":\"array\",\"description\":\"Give your agent context about different document sources from existing vector stores and embeddings\",\"array\":[{\"label\":\"Vector Store\",\"name\":\"vectorStore\",\"type\":\"asyncOptions\",\"loadMethod\":\"listVectorStores\",\"loadConfig\":true},{\"label\":\"Embedding Model\",\"name\":\"embeddingModel\",\"type\":\"asyncOptions\",\"loadMethod\":\"listEmbeddings\",\"loadConfig\":true},{\"label\":\"Knowledge Name\",\"name\":\"knowledgeName\",\"type\":\"string\",\"placeholder\":\"A short name for the knowledge base, this is useful for the AI to know when and how to search for correct information\"},{\"label\":\"Describe Knowledge\",\"name\":\"knowledgeDescription\",\"type\":\"string\",\"placeholder\":\"Describe what the knowledge base is about, this is useful for the AI to know when and how to search for correct information\",\"rows\":4},{\"label\":\"Return Source Documents\",\"name\":\"returnSourceDocuments\",\"type\":\"boolean\",\"optional\":true}],\"optional\":true,\"id\":\"agentAgentflow_1-input-agentKnowledgeVSEmbeddings-array\",\"display\":true},{\"label\":\"Enable Memory\",\"name\":\"agentEnableMemory\",\"type\":\"boolean\",\"description\":\"Enable memory for the conversation thread\",\"default\":true,\"optional\":true,\"id\":\"agentAgentflow_1-input-agentEnableMemory-boolean\",\"display\":true},{\"label\":\"Memory Type\",\"name\":\"agentMemoryType\",\"type\":\"options\",\"options\":[{\"label\":\"All Messages\",\"name\":\"allMessages\",\"description\":\"Retrieve all messages from the conversation\"},{\"label\":\"Window Size\",\"name\":\"windowSize\",\"description\":\"Uses a fixed window size to surface the last N messages\"},{\"label\":\"Conversation Summary\",\"name\":\"conversationSummary\",\"description\":\"Summarizes the whole conversation\"},{\"label\":\"Conversation Summary Buffer\",\"name\":\"conversationSummaryBuffer\",\"description\":\"Summarize conversations once token limit is reached. Default to 2000\"}],\"optional\":true,\"default\":\"allMessages\",\"show\":{\"agentEnableMemory\":true},\"id\":\"agentAgentflow_1-input-agentMemoryType-options\",\"display\":false},{\"label\":\"Window Size\",\"name\":\"agentMemoryWindowSize\",\"type\":\"number\",\"default\":\"20\",\"description\":\"Uses a fixed window size to surface the last N messages\",\"show\":{\"agentMemoryType\":\"windowSize\"},\"id\":\"agentAgentflow_1-input-agentMemoryWindowSize-number\",\"display\":false},{\"label\":\"Max Token Limit\",\"name\":\"agentMemoryMaxTokenLimit\",\"type\":\"number\",\"default\":\"2000\",\"description\":\"Summarize conversations once token limit is reached. Default to 2000\",\"show\":{\"agentMemoryType\":\"conversationSummaryBuffer\"},\"id\":\"agentAgentflow_1-input-agentMemoryMaxTokenLimit-number\",\"display\":false},{\"label\":\"Input Message\",\"name\":\"agentUserMessage\",\"type\":\"string\",\"description\":\"Add an input message as user message at the end of the conversation\",\"rows\":4,\"optional\":true,\"acceptVariable\":true,\"show\":{\"agentEnableMemory\":true},\"id\":\"agentAgentflow_1-input-agentUserMessage-string\",\"display\":false},{\"label\":\"Return Response As\",\"name\":\"agentReturnResponseAs\",\"type\":\"options\",\"options\":[{\"label\":\"User Message\",\"name\":\"userMessage\"},{\"label\":\"Assistant Message\",\"name\":\"assistantMessage\"}],\"default\":\"userMessage\",\"id\":\"agentAgentflow_1-input-agentReturnResponseAs-options\",\"display\":true},{\"label\":\"Update Flow State\",\"name\":\"agentUpdateState\",\"description\":\"Update runtime state during the execution of the workflow\",\"type\":\"array\",\"optional\":true,\"acceptVariable\":true,\"array\":[{\"label\":\"Key\",\"name\":\"key\",\"type\":\"asyncOptions\",\"loadMethod\":\"listRuntimeStateKeys\",\"freeSolo\":true},{\"label\":\"Value\",\"name\":\"value\",\"type\":\"string\",\"acceptVariable\":true,\"acceptNodeOutputAsVariable\":true}],\"id\":\"agentAgentflow_1-input-agentUpdateState-array\",\"display\":true}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"agentAgentflow_1-output-agentAgentflow\",\"label\":\"Agent\",\"name\":\"agentAgentflow\"}],\"id\":\"agentAgentflow_1\",\"selected\":false},\"type\":\"agentFlow\",\"width\":162,\"height\":72,\"selected\":false,\"positionAbsolute\":{\"x\":654.0302329887891,\"y\":23.728209597804863},\"dragging\":false},{\"id\":\"llmAgentflow_2\",\"position\":{\"x\":653.4572744752659,\"y\":108.36098033116662},\"data\":{\"loadMethods\":{},\"label\":\"WRITER\",\"name\":\"llmAgentflow\",\"version\":1,\"type\":\"LLM\",\"category\":\"Agent Flows\",\"description\":\"Large language models to analyze user-provided inputs and generate responses\",\"color\":\"#64B5F6\",\"baseClasses\":[\"LLM\"],\"inputs\":{\"llmModel\":\"chatPerplexity\",\"llmMessages\":[{\"role\":\"system\",\"content\":\"<p>Eres WRITER. Escribes artículos periodísticos claros y verificables a partir de documentación proporcionada.</p><p>Objetivo: generar un ARTÍCULO en JSON estricto que cumpla el schema.</p><p>Instrucciones:</p><p>- Idioma: <span class=\\\"variable\\\" data-type=\\\"mention\\\" data-id=\\\"$flow.state.language\\\" data-label=\\\"$flow.state.language\\\">{{ $flow.state.language }}</span> </p><p>- Audiencia: <span class=\\\"variable\\\" data-type=\\\"mention\\\" data-id=\\\"$flow.state.audience\\\" data-label=\\\"$flow.state.audience\\\">{{ $flow.state.audience }}</span> </p><p>- Estilo: <span class=\\\"variable\\\" data-type=\\\"mention\\\" data-id=\\\"$flow.state.style\\\" data-label=\\\"$flow.state.style\\\">{{ $flow.state.style }}</span> </p><p>- Topic seleccionado: <span class=\\\"variable\\\" data-type=\\\"mention\\\" data-id=\\\"$flow.state.selected_topic\\\" data-label=\\\"$flow.state.selected_topic\\\">{{ $flow.state.selected_topic }}</span> </p><p>- Basado EXCLUSIVAMENTE en la documentación confiable del estado (no inventes).</p><p>- Usa markdown en \\\"content_markdown\\\" de cada sección (encabezados, listas, enlaces).</p><p>- Cita fuentes al final (campo \\\"sources\\\").</p><p>- Genera título claro y slug URL-safe.</p><p>- publish_date = fecha actual en formato YYYY-MM-DD.</p><p>- Devuelve SOLO JSON válido que cumpla el schema (sin texto fuera del JSON).</p><p>Documentación disponible (recortada si es extensa):</p><p><span class=\\\"variable\\\" data-type=\\\"mention\\\" data-id=\\\"$flow.state.docs\\\" data-label=\\\"$flow.state.docs\\\">{{ $flow.state.docs }}</span> </p><p></p>\"},{\"role\":\"user\",\"content\":\"<p>Genera el artículo JSON para el topic seleccionado.</p>\"}],\"llmEnableMemory\":false,\"llmReturnResponseAs\":\"assistantMessage\",\"llmStructuredOutput\":[{\"key\":\"article\",\"type\":\"jsonArray\",\"enumValues\":\"\",\"jsonSchema\":\"{\\n  \\\"type\\\": \\\"object\\\",\\n  \\\"properties\\\": {\\n    \\\"meta\\\": {\\n      \\\"type\\\": \\\"object\\\",\\n      \\\"properties\\\": {\\n        \\\"language\\\": { \\\"type\\\": \\\"string\\\" },\\n        \\\"topic\\\": { \\\"type\\\": \\\"string\\\" },\\n        \\\"title\\\": { \\\"type\\\": \\\"string\\\" },\\n        \\\"slug\\\": { \\\"type\\\": \\\"string\\\" },\\n        \\\"publish_date\\\": { \\\"type\\\": \\\"string\\\" },\\n        \\\"audience\\\": { \\\"type\\\": \\\"string\\\" },\\n        \\\"tags\\\": { \\\"type\\\": \\\"array\\\", \\\"items\\\": { \\\"type\\\": \\\"string\\\" } }\\n      },\\n      \\\"required\\\": [\\\"language\\\",\\\"topic\\\",\\\"title\\\",\\\"slug\\\",\\\"publish_date\\\",\\\"audience\\\"]\\n    },\\n    \\\"summary\\\": { \\\"type\\\": \\\"string\\\" },\\n    \\\"sections\\\": {\\n      \\\"type\\\": \\\"array\\\",\\n      \\\"items\\\": {\\n        \\\"type\\\": \\\"object\\\",\\n        \\\"properties\\\": {\\n          \\\"heading\\\": { \\\"type\\\": \\\"string\\\" },\\n          \\\"content_markdown\\\": { \\\"type\\\": \\\"string\\\" },\\n          \\\"key_points\\\": { \\\"type\\\": \\\"array\\\", \\\"items\\\": { \\\"type\\\": \\\"string\\\" } }\\n        },\\n        \\\"required\\\": [\\\"heading\\\",\\\"content_markdown\\\"]\\n      }\\n    },\\n    \\\"faq\\\": {\\n      \\\"type\\\": \\\"array\\\",\\n      \\\"items\\\": {\\n        \\\"type\\\": \\\"object\\\",\\n        \\\"properties\\\": { \\\"q\\\": { \\\"type\\\": \\\"string\\\" }, \\\"a\\\": { \\\"type\\\": \\\"string\\\" } },\\n        \\\"required\\\": [\\\"q\\\",\\\"a\\\"]\\n      }\\n    },\\n    \\\"sources\\\": {\\n      \\\"type\\\": \\\"array\\\",\\n      \\\"items\\\": {\\n        \\\"type\\\": \\\"object\\\",\\n        \\\"properties\\\": {\\n          \\\"title\\\": { \\\"type\\\": \\\"string\\\" },\\n          \\\"url\\\": { \\\"type\\\": \\\"string\\\" },\\n          \\\"published_date\\\": { \\\"type\\\": \\\"string\\\" }\\n        },\\n        \\\"required\\\": [\\\"url\\\"]\\n      }\\n    },\\n    \\\"seo\\\": {\\n      \\\"type\\\": \\\"object\\\",\\n      \\\"properties\\\": {\\n        \\\"meta_title\\\": { \\\"type\\\": \\\"string\\\" },\\n        \\\"meta_description\\\": { \\\"type\\\": \\\"string\\\" },\\n        \\\"keywords\\\": { \\\"type\\\": \\\"array\\\", \\\"items\\\": { \\\"type\\\": \\\"string\\\" } }\\n      },\\n      \\\"required\\\": [\\\"meta_title\\\",\\\"meta_description\\\"]\\n    }\\n  },\\n  \\\"required\\\": [\\\"meta\\\",\\\"summary\\\",\\\"sections\\\",\\\"sources\\\",\\\"seo\\\"]\\n}\",\"description\":\"article in json format\"}],\"llmUpdateState\":[{\"key\":\"article_json\",\"value\":\"<p><span class=\\\"variable\\\" data-type=\\\"mention\\\" data-id=\\\"output.article\\\" data-label=\\\"output.article\\\">{{ output.article }}</span> </p>\"},{\"key\":\"next\",\"value\":\"<p>FINISH</p>\"},{\"key\":\"instruction\",\"value\":\"\"}],\"llmModelConfig\":{\"cache\":\"\",\"model\":\"sonar\",\"temperature\":1,\"maxTokens\":\"\",\"topP\":\"\",\"topK\":\"\",\"presencePenalty\":\"\",\"frequencyPenalty\":\"\",\"streaming\":true,\"timeout\":\"\",\"proxyUrl\":\"\",\"llmModel\":\"chatPerplexity\",\"FLOWISE_CREDENTIAL_ID\":\"76e373c4-8a17-40aa-8657-9027987fa9fd\"}},\"filePath\":\"/usr/local/lib/node_modules/flowise/node_modules/flowise-components/dist/nodes/agentflow/LLM/LLM.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Model\",\"name\":\"llmModel\",\"type\":\"asyncOptions\",\"loadMethod\":\"listModels\",\"loadConfig\":true,\"id\":\"llmAgentflow_2-input-llmModel-asyncOptions\",\"display\":true},{\"label\":\"Messages\",\"name\":\"llmMessages\",\"type\":\"array\",\"optional\":true,\"acceptVariable\":true,\"array\":[{\"label\":\"Role\",\"name\":\"role\",\"type\":\"options\",\"options\":[{\"label\":\"System\",\"name\":\"system\"},{\"label\":\"Assistant\",\"name\":\"assistant\"},{\"label\":\"Developer\",\"name\":\"developer\"},{\"label\":\"User\",\"name\":\"user\"}]},{\"label\":\"Content\",\"name\":\"content\",\"type\":\"string\",\"acceptVariable\":true,\"generateInstruction\":true,\"rows\":4}],\"id\":\"llmAgentflow_2-input-llmMessages-array\",\"display\":true},{\"label\":\"Enable Memory\",\"name\":\"llmEnableMemory\",\"type\":\"boolean\",\"description\":\"Enable memory for the conversation thread\",\"default\":true,\"optional\":true,\"id\":\"llmAgentflow_2-input-llmEnableMemory-boolean\",\"display\":true},{\"label\":\"Memory Type\",\"name\":\"llmMemoryType\",\"type\":\"options\",\"options\":[{\"label\":\"All Messages\",\"name\":\"allMessages\",\"description\":\"Retrieve all messages from the conversation\"},{\"label\":\"Window Size\",\"name\":\"windowSize\",\"description\":\"Uses a fixed window size to surface the last N messages\"},{\"label\":\"Conversation Summary\",\"name\":\"conversationSummary\",\"description\":\"Summarizes the whole conversation\"},{\"label\":\"Conversation Summary Buffer\",\"name\":\"conversationSummaryBuffer\",\"description\":\"Summarize conversations once token limit is reached. Default to 2000\"}],\"optional\":true,\"default\":\"allMessages\",\"show\":{\"llmEnableMemory\":true},\"id\":\"llmAgentflow_2-input-llmMemoryType-options\",\"display\":false},{\"label\":\"Window Size\",\"name\":\"llmMemoryWindowSize\",\"type\":\"number\",\"default\":\"20\",\"description\":\"Uses a fixed window size to surface the last N messages\",\"show\":{\"llmMemoryType\":\"windowSize\"},\"id\":\"llmAgentflow_2-input-llmMemoryWindowSize-number\",\"display\":false},{\"label\":\"Max Token Limit\",\"name\":\"llmMemoryMaxTokenLimit\",\"type\":\"number\",\"default\":\"2000\",\"description\":\"Summarize conversations once token limit is reached. Default to 2000\",\"show\":{\"llmMemoryType\":\"conversationSummaryBuffer\"},\"id\":\"llmAgentflow_2-input-llmMemoryMaxTokenLimit-number\",\"display\":false},{\"label\":\"Input Message\",\"name\":\"llmUserMessage\",\"type\":\"string\",\"description\":\"Add an input message as user message at the end of the conversation\",\"rows\":4,\"optional\":true,\"acceptVariable\":true,\"show\":{\"llmEnableMemory\":true},\"id\":\"llmAgentflow_2-input-llmUserMessage-string\",\"display\":false},{\"label\":\"Return Response As\",\"name\":\"llmReturnResponseAs\",\"type\":\"options\",\"options\":[{\"label\":\"User Message\",\"name\":\"userMessage\"},{\"label\":\"Assistant Message\",\"name\":\"assistantMessage\"}],\"default\":\"userMessage\",\"id\":\"llmAgentflow_2-input-llmReturnResponseAs-options\",\"display\":true},{\"label\":\"JSON Structured Output\",\"name\":\"llmStructuredOutput\",\"description\":\"Instruct the LLM to give output in a JSON structured schema\",\"type\":\"array\",\"optional\":true,\"acceptVariable\":true,\"array\":[{\"label\":\"Key\",\"name\":\"key\",\"type\":\"string\"},{\"label\":\"Type\",\"name\":\"type\",\"type\":\"options\",\"options\":[{\"label\":\"String\",\"name\":\"string\"},{\"label\":\"String Array\",\"name\":\"stringArray\"},{\"label\":\"Number\",\"name\":\"number\"},{\"label\":\"Boolean\",\"name\":\"boolean\"},{\"label\":\"Enum\",\"name\":\"enum\"},{\"label\":\"JSON Array\",\"name\":\"jsonArray\"}]},{\"label\":\"Enum Values\",\"name\":\"enumValues\",\"type\":\"string\",\"placeholder\":\"value1, value2, value3\",\"description\":\"Enum values. Separated by comma\",\"optional\":true,\"show\":{\"llmStructuredOutput[$index].type\":\"enum\"}},{\"label\":\"JSON Schema\",\"name\":\"jsonSchema\",\"type\":\"code\",\"placeholder\":\"{\\n    \\\"answer\\\": {\\n        \\\"type\\\": \\\"string\\\",\\n        \\\"description\\\": \\\"Value of the answer\\\"\\n    },\\n    \\\"reason\\\": {\\n        \\\"type\\\": \\\"string\\\",\\n        \\\"description\\\": \\\"Reason for the answer\\\"\\n    },\\n    \\\"optional\\\": {\\n        \\\"type\\\": \\\"boolean\\\"\\n    },\\n    \\\"count\\\": {\\n        \\\"type\\\": \\\"number\\\"\\n    },\\n    \\\"children\\\": {\\n        \\\"type\\\": \\\"array\\\",\\n        \\\"items\\\": {\\n            \\\"type\\\": \\\"object\\\",\\n            \\\"properties\\\": {\\n                \\\"value\\\": {\\n                    \\\"type\\\": \\\"string\\\",\\n                    \\\"description\\\": \\\"Value of the children's answer\\\"\\n                }\\n            }\\n        }\\n    }\\n}\",\"description\":\"JSON schema for the structured output\",\"optional\":true,\"hideCodeExecute\":true,\"show\":{\"llmStructuredOutput[$index].type\":\"jsonArray\"}},{\"label\":\"Description\",\"name\":\"description\",\"type\":\"string\",\"placeholder\":\"Description of the key\"}],\"id\":\"llmAgentflow_2-input-llmStructuredOutput-array\",\"display\":true},{\"label\":\"Update Flow State\",\"name\":\"llmUpdateState\",\"description\":\"Update runtime state during the execution of the workflow\",\"type\":\"array\",\"optional\":true,\"acceptVariable\":true,\"array\":[{\"label\":\"Key\",\"name\":\"key\",\"type\":\"asyncOptions\",\"loadMethod\":\"listRuntimeStateKeys\",\"freeSolo\":true},{\"label\":\"Value\",\"name\":\"value\",\"type\":\"string\",\"acceptVariable\":true,\"acceptNodeOutputAsVariable\":true}],\"id\":\"llmAgentflow_2-input-llmUpdateState-array\",\"display\":true}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"llmAgentflow_2-output-llmAgentflow\",\"label\":\"LLM\",\"name\":\"llmAgentflow\"}],\"id\":\"llmAgentflow_2\",\"selected\":false},\"type\":\"agentFlow\",\"width\":142,\"height\":72,\"selected\":false,\"positionAbsolute\":{\"x\":653.4572744752659,\"y\":108.36098033116662},\"dragging\":false},{\"id\":\"directReplyAgentflow_0\",\"position\":{\"x\":650.5196518248263,\"y\":198.8750572183024},\"data\":{\"label\":\"Direct Reply 0\",\"name\":\"directReplyAgentflow\",\"version\":1,\"type\":\"DirectReply\",\"category\":\"Agent Flows\",\"description\":\"Directly reply to the user with a message\",\"baseClasses\":[\"DirectReply\"],\"color\":\"#4DDBBB\",\"hideOutput\":true,\"inputs\":{\"directReplyMessage\":\"<p><span class=\\\"variable\\\" data-type=\\\"mention\\\" data-id=\\\"$flow.state.article_json\\\" data-label=\\\"$flow.state.article_json\\\">{{ $flow.state.article_json }}</span> </p>\"},\"filePath\":\"/usr/local/lib/node_modules/flowise/node_modules/flowise-components/dist/nodes/agentflow/DirectReply/DirectReply.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Message\",\"name\":\"directReplyMessage\",\"type\":\"string\",\"rows\":4,\"acceptVariable\":true,\"id\":\"directReplyAgentflow_0-input-directReplyMessage-string\",\"display\":true}],\"outputs\":{},\"outputAnchors\":[],\"id\":\"directReplyAgentflow_0\",\"selected\":false},\"type\":\"agentFlow\",\"width\":163,\"height\":66,\"selected\":false,\"positionAbsolute\":{\"x\":650.5196518248263,\"y\":198.8750572183024},\"dragging\":false},{\"id\":\"loopAgentflow_0\",\"position\":{\"x\":1033.8427043289507,\"y\":-74.00443391501591},\"data\":{\"loadMethods\":{},\"label\":\"Loop to Supervisor\",\"name\":\"loopAgentflow\",\"version\":1,\"type\":\"Loop\",\"category\":\"Agent Flows\",\"description\":\"Loop back to a previous node\",\"baseClasses\":[\"Loop\"],\"color\":\"#FFA07A\",\"hint\":\"Make sure to have memory enabled in the LLM/Agent node to retain the chat history\",\"hideOutput\":true,\"inputs\":{\"loopBackToNode\":\"llmAgentflow_0-SUPERVISOR\",\"maxLoopCount\":5,\"undefined\":\"\"},\"filePath\":\"/usr/local/lib/node_modules/flowise/node_modules/flowise-components/dist/nodes/agentflow/Loop/Loop.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Loop Back To\",\"name\":\"loopBackToNode\",\"type\":\"asyncOptions\",\"loadMethod\":\"listPreviousNodes\",\"freeSolo\":true,\"id\":\"loopAgentflow_0-input-loopBackToNode-asyncOptions\",\"display\":true},{\"label\":\"Max Loop Count\",\"name\":\"maxLoopCount\",\"type\":\"number\",\"default\":5,\"id\":\"loopAgentflow_0-input-maxLoopCount-number\",\"display\":true}],\"outputs\":{},\"outputAnchors\":[],\"id\":\"loopAgentflow_0\",\"selected\":false},\"type\":\"agentFlow\",\"width\":195,\"height\":66,\"selected\":false,\"positionAbsolute\":{\"x\":1033.8427043289507,\"y\":-74.00443391501591},\"dragging\":false},{\"id\":\"loopAgentflow_1\",\"position\":{\"x\":1007.9398123255622,\"y\":25.703010760266864},\"data\":{\"loadMethods\":{},\"label\":\"Loop to Supervisor\",\"name\":\"loopAgentflow\",\"version\":1,\"type\":\"Loop\",\"category\":\"Agent Flows\",\"description\":\"Loop back to a previous node\",\"baseClasses\":[\"Loop\"],\"color\":\"#FFA07A\",\"hint\":\"Make sure to have memory enabled in the LLM/Agent node to retain the chat history\",\"hideOutput\":true,\"inputs\":{\"loopBackToNode\":\"llmAgentflow_0-SUPERVISOR\",\"maxLoopCount\":5,\"undefined\":\"\"},\"filePath\":\"/usr/local/lib/node_modules/flowise/node_modules/flowise-components/dist/nodes/agentflow/Loop/Loop.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Loop Back To\",\"name\":\"loopBackToNode\",\"type\":\"asyncOptions\",\"loadMethod\":\"listPreviousNodes\",\"freeSolo\":true,\"id\":\"loopAgentflow_1-input-loopBackToNode-asyncOptions\",\"display\":true},{\"label\":\"Max Loop Count\",\"name\":\"maxLoopCount\",\"type\":\"number\",\"default\":5,\"id\":\"loopAgentflow_1-input-maxLoopCount-number\",\"display\":true}],\"outputs\":{},\"outputAnchors\":[],\"id\":\"loopAgentflow_1\",\"selected\":false},\"type\":\"agentFlow\",\"width\":195,\"height\":66,\"selected\":false,\"positionAbsolute\":{\"x\":1007.9398123255622,\"y\":25.703010760266864},\"dragging\":false},{\"id\":\"loopAgentflow_2\",\"position\":{\"x\":833.7521647825928,\"y\":111.29423251508796},\"data\":{\"loadMethods\":{},\"label\":\"Loop to Supervisor (2)\",\"name\":\"loopAgentflow\",\"version\":1,\"type\":\"Loop\",\"category\":\"Agent Flows\",\"description\":\"Loop back to a previous node\",\"baseClasses\":[\"Loop\"],\"color\":\"#FFA07A\",\"hint\":\"Make sure to have memory enabled in the LLM/Agent node to retain the chat history\",\"hideOutput\":true,\"inputs\":{\"loopBackToNode\":\"llmAgentflow_0-SUPERVISOR\",\"maxLoopCount\":5},\"filePath\":\"/usr/local/lib/node_modules/flowise/node_modules/flowise-components/dist/nodes/agentflow/Loop/Loop.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Loop Back To\",\"name\":\"loopBackToNode\",\"type\":\"asyncOptions\",\"loadMethod\":\"listPreviousNodes\",\"freeSolo\":true,\"id\":\"loopAgentflow_2-input-loopBackToNode-asyncOptions\",\"display\":true},{\"label\":\"Max Loop Count\",\"name\":\"maxLoopCount\",\"type\":\"number\",\"default\":5,\"id\":\"loopAgentflow_2-input-maxLoopCount-number\",\"display\":true}],\"outputs\":{},\"outputAnchors\":[],\"id\":\"loopAgentflow_2\",\"selected\":false},\"type\":\"agentFlow\",\"width\":217,\"height\":66,\"selected\":false,\"positionAbsolute\":{\"x\":833.7521647825928,\"y\":111.29423251508796},\"dragging\":false},{\"id\":\"llmAgentflow_1\",\"position\":{\"x\":846.9111418133524,\"y\":-75.0853566982781},\"data\":{\"loadMethods\":{},\"label\":\"STR OUT\",\"name\":\"llmAgentflow\",\"version\":1,\"type\":\"LLM\",\"category\":\"Agent Flows\",\"description\":\"Large language models to analyze user-provided inputs and generate responses\",\"color\":\"#64B5F6\",\"baseClasses\":[\"LLM\"],\"inputs\":{\"llmModel\":\"chatPerplexity\",\"llmMessages\":[{\"role\":\"system\",\"content\":\"<p> Convierte la ENTRADA en JSON EXACTO que cumpla el schema. </p><p>- Ignora texto fuera de bloques JSON, markdown o explicaciones.</p><p>- No inventes: si falta algo, deja cadena vacía o lista vacía.</p><p>- Devuelve SOLO JSON válido, sin texto adicional.</p><p></p>\"},{\"role\":\"user\",\"content\":\"<p><span class=\\\"variable\\\" data-type=\\\"mention\\\" data-id=\\\"agentAgentflow_0\\\" data-label=\\\"agentAgentflow_0\\\">{{ agentAgentflow_0 }}</span> </p>\"}],\"llmEnableMemory\":false,\"llmReturnResponseAs\":\"assistantMessage\",\"llmStructuredOutput\":[{\"key\":\"refined_topics\",\"type\":\"jsonArray\",\"enumValues\":\"\",\"jsonSchema\":\"{\\n  \\\"name\\\": {\\n          \\\"type\\\": \\\"string\\\",\\n          \\\"description\\\": \\\"Nombre del tema\\\"\\n        },\\n        \\\"why_now\\\": {\\n          \\\"type\\\": \\\"string\\\",\\n          \\\"description\\\": \\\"2-3 líneas sobre relevancia o actualidad del tema\\\"\\n        },\\n        \\\"related_to\\\": {\\n          \\\"type\\\": \\\"string\\\",\\n          \\\"description\\\": \\\"Tema inicial al que se vincula\\\"\\n        },\\n        \\\"evidence_urls\\\": {\\n          \\\"type\\\": \\\"array\\\",\\n          \\\"description\\\": \\\"Lista de URLs que respaldan el tema\\\",\\n          \\\"items\\\": {\\n            \\\"type\\\": \\\"string\\\"\\n          }\\n        }\\n}\",\"description\":\"name\"},{\"key\":\"related_to\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"related_to\"},{\"key\":\"evidence_urls\",\"type\":\"stringArray\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"evidence_urls\"}],\"llmUpdateState\":[{\"key\":\"refined_topics\",\"value\":\"<p><span class=\\\"variable\\\" data-type=\\\"mention\\\" data-id=\\\"output.refined_topics\\\" data-label=\\\"output.refined_topics\\\">{{ output.refined_topics }}</span> </p>\"}],\"llmModelConfig\":{\"cache\":\"\",\"model\":\"sonar\",\"temperature\":1,\"maxTokens\":\"\",\"topP\":\"\",\"topK\":\"\",\"presencePenalty\":\"\",\"frequencyPenalty\":\"\",\"streaming\":true,\"timeout\":\"\",\"proxyUrl\":\"\",\"llmModel\":\"chatPerplexity\",\"FLOWISE_CREDENTIAL_ID\":\"76e373c4-8a17-40aa-8657-9027987fa9fd\"}},\"filePath\":\"/usr/local/lib/node_modules/flowise/node_modules/flowise-components/dist/nodes/agentflow/LLM/LLM.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Model\",\"name\":\"llmModel\",\"type\":\"asyncOptions\",\"loadMethod\":\"listModels\",\"loadConfig\":true,\"id\":\"llmAgentflow_1-input-llmModel-asyncOptions\",\"display\":true},{\"label\":\"Messages\",\"name\":\"llmMessages\",\"type\":\"array\",\"optional\":true,\"acceptVariable\":true,\"array\":[{\"label\":\"Role\",\"name\":\"role\",\"type\":\"options\",\"options\":[{\"label\":\"System\",\"name\":\"system\"},{\"label\":\"Assistant\",\"name\":\"assistant\"},{\"label\":\"Developer\",\"name\":\"developer\"},{\"label\":\"User\",\"name\":\"user\"}]},{\"label\":\"Content\",\"name\":\"content\",\"type\":\"string\",\"acceptVariable\":true,\"generateInstruction\":true,\"rows\":4}],\"id\":\"llmAgentflow_1-input-llmMessages-array\",\"display\":true},{\"label\":\"Enable Memory\",\"name\":\"llmEnableMemory\",\"type\":\"boolean\",\"description\":\"Enable memory for the conversation thread\",\"default\":true,\"optional\":true,\"id\":\"llmAgentflow_1-input-llmEnableMemory-boolean\",\"display\":true},{\"label\":\"Memory Type\",\"name\":\"llmMemoryType\",\"type\":\"options\",\"options\":[{\"label\":\"All Messages\",\"name\":\"allMessages\",\"description\":\"Retrieve all messages from the conversation\"},{\"label\":\"Window Size\",\"name\":\"windowSize\",\"description\":\"Uses a fixed window size to surface the last N messages\"},{\"label\":\"Conversation Summary\",\"name\":\"conversationSummary\",\"description\":\"Summarizes the whole conversation\"},{\"label\":\"Conversation Summary Buffer\",\"name\":\"conversationSummaryBuffer\",\"description\":\"Summarize conversations once token limit is reached. Default to 2000\"}],\"optional\":true,\"default\":\"allMessages\",\"show\":{\"llmEnableMemory\":true},\"id\":\"llmAgentflow_1-input-llmMemoryType-options\",\"display\":false},{\"label\":\"Window Size\",\"name\":\"llmMemoryWindowSize\",\"type\":\"number\",\"default\":\"20\",\"description\":\"Uses a fixed window size to surface the last N messages\",\"show\":{\"llmMemoryType\":\"windowSize\"},\"id\":\"llmAgentflow_1-input-llmMemoryWindowSize-number\",\"display\":false},{\"label\":\"Max Token Limit\",\"name\":\"llmMemoryMaxTokenLimit\",\"type\":\"number\",\"default\":\"2000\",\"description\":\"Summarize conversations once token limit is reached. Default to 2000\",\"show\":{\"llmMemoryType\":\"conversationSummaryBuffer\"},\"id\":\"llmAgentflow_1-input-llmMemoryMaxTokenLimit-number\",\"display\":false},{\"label\":\"Input Message\",\"name\":\"llmUserMessage\",\"type\":\"string\",\"description\":\"Add an input message as user message at the end of the conversation\",\"rows\":4,\"optional\":true,\"acceptVariable\":true,\"show\":{\"llmEnableMemory\":true},\"id\":\"llmAgentflow_1-input-llmUserMessage-string\",\"display\":false},{\"label\":\"Return Response As\",\"name\":\"llmReturnResponseAs\",\"type\":\"options\",\"options\":[{\"label\":\"User Message\",\"name\":\"userMessage\"},{\"label\":\"Assistant Message\",\"name\":\"assistantMessage\"}],\"default\":\"userMessage\",\"id\":\"llmAgentflow_1-input-llmReturnResponseAs-options\",\"display\":true},{\"label\":\"JSON Structured Output\",\"name\":\"llmStructuredOutput\",\"description\":\"Instruct the LLM to give output in a JSON structured schema\",\"type\":\"array\",\"optional\":true,\"acceptVariable\":true,\"array\":[{\"label\":\"Key\",\"name\":\"key\",\"type\":\"string\"},{\"label\":\"Type\",\"name\":\"type\",\"type\":\"options\",\"options\":[{\"label\":\"String\",\"name\":\"string\"},{\"label\":\"String Array\",\"name\":\"stringArray\"},{\"label\":\"Number\",\"name\":\"number\"},{\"label\":\"Boolean\",\"name\":\"boolean\"},{\"label\":\"Enum\",\"name\":\"enum\"},{\"label\":\"JSON Array\",\"name\":\"jsonArray\"}]},{\"label\":\"Enum Values\",\"name\":\"enumValues\",\"type\":\"string\",\"placeholder\":\"value1, value2, value3\",\"description\":\"Enum values. Separated by comma\",\"optional\":true,\"show\":{\"llmStructuredOutput[$index].type\":\"enum\"}},{\"label\":\"JSON Schema\",\"name\":\"jsonSchema\",\"type\":\"code\",\"placeholder\":\"{\\n    \\\"answer\\\": {\\n        \\\"type\\\": \\\"string\\\",\\n        \\\"description\\\": \\\"Value of the answer\\\"\\n    },\\n    \\\"reason\\\": {\\n        \\\"type\\\": \\\"string\\\",\\n        \\\"description\\\": \\\"Reason for the answer\\\"\\n    },\\n    \\\"optional\\\": {\\n        \\\"type\\\": \\\"boolean\\\"\\n    },\\n    \\\"count\\\": {\\n        \\\"type\\\": \\\"number\\\"\\n    },\\n    \\\"children\\\": {\\n        \\\"type\\\": \\\"array\\\",\\n        \\\"items\\\": {\\n            \\\"type\\\": \\\"object\\\",\\n            \\\"properties\\\": {\\n                \\\"value\\\": {\\n                    \\\"type\\\": \\\"string\\\",\\n                    \\\"description\\\": \\\"Value of the children's answer\\\"\\n                }\\n            }\\n        }\\n    }\\n}\",\"description\":\"JSON schema for the structured output\",\"optional\":true,\"hideCodeExecute\":true,\"show\":{\"llmStructuredOutput[$index].type\":\"jsonArray\"}},{\"label\":\"Description\",\"name\":\"description\",\"type\":\"string\",\"placeholder\":\"Description of the key\"}],\"id\":\"llmAgentflow_1-input-llmStructuredOutput-array\",\"display\":true},{\"label\":\"Update Flow State\",\"name\":\"llmUpdateState\",\"description\":\"Update runtime state during the execution of the workflow\",\"type\":\"array\",\"optional\":true,\"acceptVariable\":true,\"array\":[{\"label\":\"Key\",\"name\":\"key\",\"type\":\"asyncOptions\",\"loadMethod\":\"listRuntimeStateKeys\",\"freeSolo\":true},{\"label\":\"Value\",\"name\":\"value\",\"type\":\"string\",\"acceptVariable\":true,\"acceptNodeOutputAsVariable\":true}],\"id\":\"llmAgentflow_1-input-llmUpdateState-array\",\"display\":true}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"llmAgentflow_1-output-llmAgentflow\",\"label\":\"LLM\",\"name\":\"llmAgentflow\"}],\"id\":\"llmAgentflow_1\",\"selected\":false},\"type\":\"agentFlow\",\"width\":142,\"height\":72,\"selected\":false,\"positionAbsolute\":{\"x\":846.9111418133524,\"y\":-75.0853566982781},\"dragging\":false},{\"id\":\"llmAgentflow_3\",\"position\":{\"x\":841.248480524732,\"y\":20.36712503511548},\"data\":{\"loadMethods\":{},\"label\":\"STR OUT (3)\",\"name\":\"llmAgentflow\",\"version\":1,\"type\":\"LLM\",\"category\":\"Agent Flows\",\"description\":\"Large language models to analyze user-provided inputs and generate responses\",\"color\":\"#64B5F6\",\"baseClasses\":[\"LLM\"],\"inputs\":{\"llmModel\":\"chatPerplexity\",\"llmMessages\":[{\"role\":\"system\",\"content\":\"<p> Convierte la ENTRADA en JSON EXACTO que cumpla el schema. </p><p>- Ignora texto fuera de bloques JSON, markdown o explicaciones.</p><p>- No inventes: si falta algo, deja cadena vacía o lista vacía.</p><p>- Devuelve SOLO JSON válido, sin texto adicional.</p><p></p>\"},{\"role\":\"user\",\"content\":\"<p><span class=\\\"variable\\\" data-type=\\\"mention\\\" data-id=\\\"agentAgentflow_1\\\" data-label=\\\"agentAgentflow_1\\\">{{ agentAgentflow_1 }}</span> </p>\"}],\"llmEnableMemory\":false,\"llmReturnResponseAs\":\"assistantMessage\",\"llmStructuredOutput\":[{\"key\":\"docs\",\"type\":\"jsonArray\",\"enumValues\":\"\",\"jsonSchema\":\"{\\n  \\\"topic\\\": {\\n    \\\"type\\\": \\\"string\\\",\\n      \\\"description\\\": \\\"Tema principal del documento\\\"\\n    },\\n    \\\"summary\\\": {\\n      \\\"type\\\": \\\"string\\\",\\n      \\\"description\\\": \\\"Resumen de 6–10 líneas del documento\\\"\\n    },\\n    \\\"key_points\\\": {\\n      \\\"type\\\": \\\"array\\\",\\n      \\\"description\\\": \\\"Lista de puntos clave extraídos\\\"\\n    },\\n    \\\"date\\\": {\\n      \\\"type\\\": \\\"string\\\",\\n      \\\"description\\\": \\\"Fecha en formato YYYY-MM-DD\\\"\\n    },\\n    \\\"sources\\\": {\\n      \\\"type\\\": \\\"array\\\",\\n      \\\"description\\\": \\\"Lista de fuentes relacionadas\\\",\\n      \\\"items\\\": {\\n        \\\"type\\\": \\\"object\\\",\\n        \\\"properties\\\": {\\n          \\\"title\\\": {\\n            \\\"type\\\": \\\"string\\\",\\n            \\\"description\\\": \\\"Título de la fuente\\\"\\n          },\\n          \\\"url\\\": {\\n            \\\"type\\\": \\\"string\\\",\\n            \\\"description\\\": \\\"URL de la fuente\\\"\\n          },\\n          \\\"published_date\\\": {\\n            \\\"type\\\": \\\"string\\\",\\n            \\\"description\\\": \\\"Fecha de publicación en formato YYYY-MM-DD\\\"\\n          }\\n        }\\n      }\\n    }\\n}\",\"description\":\"\"}],\"llmUpdateState\":[{\"key\":\"docs\",\"value\":\"<p><span class=\\\"variable\\\" data-type=\\\"mention\\\" data-id=\\\"output.docs\\\" data-label=\\\"output.docs\\\">{{ output.docs }}</span> </p>\"}],\"llmModelConfig\":{\"cache\":\"\",\"model\":\"sonar\",\"temperature\":1,\"maxTokens\":\"\",\"topP\":\"\",\"topK\":\"\",\"presencePenalty\":\"\",\"frequencyPenalty\":\"\",\"streaming\":true,\"timeout\":\"\",\"proxyUrl\":\"\",\"llmModel\":\"chatPerplexity\",\"FLOWISE_CREDENTIAL_ID\":\"76e373c4-8a17-40aa-8657-9027987fa9fd\"}},\"filePath\":\"/usr/local/lib/node_modules/flowise/node_modules/flowise-components/dist/nodes/agentflow/LLM/LLM.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Model\",\"name\":\"llmModel\",\"type\":\"asyncOptions\",\"loadMethod\":\"listModels\",\"loadConfig\":true,\"id\":\"llmAgentflow_3-input-llmModel-asyncOptions\",\"display\":true},{\"label\":\"Messages\",\"name\":\"llmMessages\",\"type\":\"array\",\"optional\":true,\"acceptVariable\":true,\"array\":[{\"label\":\"Role\",\"name\":\"role\",\"type\":\"options\",\"options\":[{\"label\":\"System\",\"name\":\"system\"},{\"label\":\"Assistant\",\"name\":\"assistant\"},{\"label\":\"Developer\",\"name\":\"developer\"},{\"label\":\"User\",\"name\":\"user\"}]},{\"label\":\"Content\",\"name\":\"content\",\"type\":\"string\",\"acceptVariable\":true,\"generateInstruction\":true,\"rows\":4}],\"id\":\"llmAgentflow_3-input-llmMessages-array\",\"display\":true},{\"label\":\"Enable Memory\",\"name\":\"llmEnableMemory\",\"type\":\"boolean\",\"description\":\"Enable memory for the conversation thread\",\"default\":true,\"optional\":true,\"id\":\"llmAgentflow_3-input-llmEnableMemory-boolean\",\"display\":true},{\"label\":\"Memory Type\",\"name\":\"llmMemoryType\",\"type\":\"options\",\"options\":[{\"label\":\"All Messages\",\"name\":\"allMessages\",\"description\":\"Retrieve all messages from the conversation\"},{\"label\":\"Window Size\",\"name\":\"windowSize\",\"description\":\"Uses a fixed window size to surface the last N messages\"},{\"label\":\"Conversation Summary\",\"name\":\"conversationSummary\",\"description\":\"Summarizes the whole conversation\"},{\"label\":\"Conversation Summary Buffer\",\"name\":\"conversationSummaryBuffer\",\"description\":\"Summarize conversations once token limit is reached. Default to 2000\"}],\"optional\":true,\"default\":\"allMessages\",\"show\":{\"llmEnableMemory\":true},\"id\":\"llmAgentflow_3-input-llmMemoryType-options\",\"display\":false},{\"label\":\"Window Size\",\"name\":\"llmMemoryWindowSize\",\"type\":\"number\",\"default\":\"20\",\"description\":\"Uses a fixed window size to surface the last N messages\",\"show\":{\"llmMemoryType\":\"windowSize\"},\"id\":\"llmAgentflow_3-input-llmMemoryWindowSize-number\",\"display\":false},{\"label\":\"Max Token Limit\",\"name\":\"llmMemoryMaxTokenLimit\",\"type\":\"number\",\"default\":\"2000\",\"description\":\"Summarize conversations once token limit is reached. Default to 2000\",\"show\":{\"llmMemoryType\":\"conversationSummaryBuffer\"},\"id\":\"llmAgentflow_3-input-llmMemoryMaxTokenLimit-number\",\"display\":false},{\"label\":\"Input Message\",\"name\":\"llmUserMessage\",\"type\":\"string\",\"description\":\"Add an input message as user message at the end of the conversation\",\"rows\":4,\"optional\":true,\"acceptVariable\":true,\"show\":{\"llmEnableMemory\":true},\"id\":\"llmAgentflow_3-input-llmUserMessage-string\",\"display\":false},{\"label\":\"Return Response As\",\"name\":\"llmReturnResponseAs\",\"type\":\"options\",\"options\":[{\"label\":\"User Message\",\"name\":\"userMessage\"},{\"label\":\"Assistant Message\",\"name\":\"assistantMessage\"}],\"default\":\"userMessage\",\"id\":\"llmAgentflow_3-input-llmReturnResponseAs-options\",\"display\":true},{\"label\":\"JSON Structured Output\",\"name\":\"llmStructuredOutput\",\"description\":\"Instruct the LLM to give output in a JSON structured schema\",\"type\":\"array\",\"optional\":true,\"acceptVariable\":true,\"array\":[{\"label\":\"Key\",\"name\":\"key\",\"type\":\"string\"},{\"label\":\"Type\",\"name\":\"type\",\"type\":\"options\",\"options\":[{\"label\":\"String\",\"name\":\"string\"},{\"label\":\"String Array\",\"name\":\"stringArray\"},{\"label\":\"Number\",\"name\":\"number\"},{\"label\":\"Boolean\",\"name\":\"boolean\"},{\"label\":\"Enum\",\"name\":\"enum\"},{\"label\":\"JSON Array\",\"name\":\"jsonArray\"}]},{\"label\":\"Enum Values\",\"name\":\"enumValues\",\"type\":\"string\",\"placeholder\":\"value1, value2, value3\",\"description\":\"Enum values. Separated by comma\",\"optional\":true,\"show\":{\"llmStructuredOutput[$index].type\":\"enum\"}},{\"label\":\"JSON Schema\",\"name\":\"jsonSchema\",\"type\":\"code\",\"placeholder\":\"{\\n    \\\"answer\\\": {\\n        \\\"type\\\": \\\"string\\\",\\n        \\\"description\\\": \\\"Value of the answer\\\"\\n    },\\n    \\\"reason\\\": {\\n        \\\"type\\\": \\\"string\\\",\\n        \\\"description\\\": \\\"Reason for the answer\\\"\\n    },\\n    \\\"optional\\\": {\\n        \\\"type\\\": \\\"boolean\\\"\\n    },\\n    \\\"count\\\": {\\n        \\\"type\\\": \\\"number\\\"\\n    },\\n    \\\"children\\\": {\\n        \\\"type\\\": \\\"array\\\",\\n        \\\"items\\\": {\\n            \\\"type\\\": \\\"object\\\",\\n            \\\"properties\\\": {\\n                \\\"value\\\": {\\n                    \\\"type\\\": \\\"string\\\",\\n                    \\\"description\\\": \\\"Value of the children's answer\\\"\\n                }\\n            }\\n        }\\n    }\\n}\",\"description\":\"JSON schema for the structured output\",\"optional\":true,\"hideCodeExecute\":true,\"show\":{\"llmStructuredOutput[$index].type\":\"jsonArray\"}},{\"label\":\"Description\",\"name\":\"description\",\"type\":\"string\",\"placeholder\":\"Description of the key\"}],\"id\":\"llmAgentflow_3-input-llmStructuredOutput-array\",\"display\":true},{\"label\":\"Update Flow State\",\"name\":\"llmUpdateState\",\"description\":\"Update runtime state during the execution of the workflow\",\"type\":\"array\",\"optional\":true,\"acceptVariable\":true,\"array\":[{\"label\":\"Key\",\"name\":\"key\",\"type\":\"asyncOptions\",\"loadMethod\":\"listRuntimeStateKeys\",\"freeSolo\":true},{\"label\":\"Value\",\"name\":\"value\",\"type\":\"string\",\"acceptVariable\":true,\"acceptNodeOutputAsVariable\":true}],\"id\":\"llmAgentflow_3-input-llmUpdateState-array\",\"display\":true}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"llmAgentflow_3-output-llmAgentflow\",\"label\":\"LLM\",\"name\":\"llmAgentflow\"}],\"id\":\"llmAgentflow_3\",\"selected\":false},\"type\":\"agentFlow\",\"width\":154,\"height\":72,\"selected\":false,\"positionAbsolute\":{\"x\":841.248480524732,\"y\":20.36712503511548},\"dragging\":false}],\"edges\":[{\"source\":\"startAgentflow_0\",\"sourceHandle\":\"startAgentflow_0-output-startAgentflow\",\"target\":\"llmAgentflow_0\",\"targetHandle\":\"llmAgentflow_0\",\"data\":{\"sourceColor\":\"#7EE787\",\"targetColor\":\"#64B5F6\",\"isHumanInput\":false},\"type\":\"agentFlow\",\"id\":\"startAgentflow_0-startAgentflow_0-output-startAgentflow-llmAgentflow_0-llmAgentflow_0\"},{\"source\":\"llmAgentflow_0\",\"sourceHandle\":\"llmAgentflow_0-output-llmAgentflow\",\"target\":\"conditionAgentflow_0\",\"targetHandle\":\"conditionAgentflow_0\",\"data\":{\"sourceColor\":\"#64B5F6\",\"targetColor\":\"#FFB938\",\"isHumanInput\":false},\"type\":\"agentFlow\",\"id\":\"llmAgentflow_0-llmAgentflow_0-output-llmAgentflow-conditionAgentflow_0-conditionAgentflow_0\"},{\"source\":\"conditionAgentflow_0\",\"sourceHandle\":\"conditionAgentflow_0-output-0\",\"target\":\"agentAgentflow_0\",\"targetHandle\":\"agentAgentflow_0\",\"data\":{\"sourceColor\":\"#FFB938\",\"targetColor\":\"#4DD0E1\",\"edgeLabel\":\"0\",\"isHumanInput\":false},\"type\":\"agentFlow\",\"id\":\"conditionAgentflow_0-conditionAgentflow_0-output-0-agentAgentflow_0-agentAgentflow_0\"},{\"source\":\"conditionAgentflow_0\",\"sourceHandle\":\"conditionAgentflow_0-output-1\",\"target\":\"agentAgentflow_1\",\"targetHandle\":\"agentAgentflow_1\",\"data\":{\"sourceColor\":\"#FFB938\",\"targetColor\":\"#4DD0E1\",\"edgeLabel\":\"1\",\"isHumanInput\":false},\"type\":\"agentFlow\",\"id\":\"conditionAgentflow_0-conditionAgentflow_0-output-1-agentAgentflow_1-agentAgentflow_1\"},{\"source\":\"conditionAgentflow_0\",\"sourceHandle\":\"conditionAgentflow_0-output-2\",\"target\":\"llmAgentflow_2\",\"targetHandle\":\"llmAgentflow_2\",\"data\":{\"sourceColor\":\"#FFB938\",\"targetColor\":\"#64B5F6\",\"edgeLabel\":\"2\",\"isHumanInput\":false},\"type\":\"agentFlow\",\"id\":\"conditionAgentflow_0-conditionAgentflow_0-output-2-llmAgentflow_2-llmAgentflow_2\"},{\"source\":\"conditionAgentflow_0\",\"sourceHandle\":\"conditionAgentflow_0-output-3\",\"target\":\"directReplyAgentflow_0\",\"targetHandle\":\"directReplyAgentflow_0\",\"data\":{\"sourceColor\":\"#FFB938\",\"targetColor\":\"#4DDBBB\",\"edgeLabel\":\"3\",\"isHumanInput\":false},\"type\":\"agentFlow\",\"id\":\"conditionAgentflow_0-conditionAgentflow_0-output-3-directReplyAgentflow_0-directReplyAgentflow_0\"},{\"source\":\"llmAgentflow_2\",\"sourceHandle\":\"llmAgentflow_2-output-llmAgentflow\",\"target\":\"loopAgentflow_2\",\"targetHandle\":\"loopAgentflow_2\",\"data\":{\"sourceColor\":\"#64B5F6\",\"targetColor\":\"#FFA07A\",\"isHumanInput\":false},\"type\":\"agentFlow\",\"id\":\"llmAgentflow_2-llmAgentflow_2-output-llmAgentflow-loopAgentflow_2-loopAgentflow_2\"},{\"source\":\"agentAgentflow_0\",\"sourceHandle\":\"agentAgentflow_0-output-agentAgentflow\",\"target\":\"llmAgentflow_1\",\"targetHandle\":\"llmAgentflow_1\",\"data\":{\"sourceColor\":\"#4DD0E1\",\"targetColor\":\"#64B5F6\",\"isHumanInput\":false},\"type\":\"agentFlow\",\"id\":\"agentAgentflow_0-agentAgentflow_0-output-agentAgentflow-llmAgentflow_1-llmAgentflow_1\"},{\"source\":\"llmAgentflow_1\",\"sourceHandle\":\"llmAgentflow_1-output-llmAgentflow\",\"target\":\"loopAgentflow_0\",\"targetHandle\":\"loopAgentflow_0\",\"data\":{\"sourceColor\":\"#64B5F6\",\"targetColor\":\"#FFA07A\",\"isHumanInput\":false},\"type\":\"agentFlow\",\"id\":\"llmAgentflow_1-llmAgentflow_1-output-llmAgentflow-loopAgentflow_0-loopAgentflow_0\"},{\"source\":\"agentAgentflow_1\",\"sourceHandle\":\"agentAgentflow_1-output-agentAgentflow\",\"target\":\"llmAgentflow_3\",\"targetHandle\":\"llmAgentflow_3\",\"data\":{\"sourceColor\":\"#4DD0E1\",\"targetColor\":\"#64B5F6\",\"isHumanInput\":false},\"type\":\"agentFlow\",\"id\":\"agentAgentflow_1-agentAgentflow_1-output-agentAgentflow-llmAgentflow_3-llmAgentflow_3\"},{\"source\":\"llmAgentflow_3\",\"sourceHandle\":\"llmAgentflow_3-output-llmAgentflow\",\"target\":\"loopAgentflow_1\",\"targetHandle\":\"loopAgentflow_1\",\"data\":{\"sourceColor\":\"#64B5F6\",\"targetColor\":\"#FFA07A\",\"isHumanInput\":false},\"type\":\"agentFlow\",\"id\":\"llmAgentflow_3-llmAgentflow_3-output-llmAgentflow-loopAgentflow_1-loopAgentflow_1\"}],\"viewport\":{\"x\":-117.56533000670504,\"y\":245.66014372122982,\"zoom\":1.183835118248869}}",
    "deployed": false,
    "isPublic": false,
    "apikeyid": null,
    "chatbotConfig": null,
    "apiConfig": "{\"overrideConfig\":{\"status\":true,\"nodes\":{\"Start\":[{\"label\":\"Flow State\",\"name\":\"startState\",\"type\":\"array\",\"schema\":[{\"name\":\"key\",\"type\":\"string\"},{\"name\":\"value\",\"type\":\"string\"}],\"enabled\":true}],\"SUPERVISOR\":[],\"Condition 0\":[],\"TOPICER\":[],\"RESEARCHER\":[],\"WRITER\":[],\"Direct Reply 0\":[],\"Loop to Supervisor\":[],\"Loop to Supervisor (2)\":[]},\"variables\":[]}}",
    "analytic": null,
    "speechToText": null,
    "followUpPrompts": null,
    "category": null,
    "type": "AGENTFLOW",
    "createdDate": "2025-09-17T14:54:26.000Z",
    "updatedDate": "2025-09-18T17:35:09.000Z",
    "workspaceId": "68865493-abb7-454c-9b0c-b4b001e007c9"
  }
]